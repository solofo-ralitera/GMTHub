#include "LedController.hpp"

#define DIN 16 // A2
#define CS 17 // A3
#define CLK 18  // A4

#define Segments 1


ByteBlock digits[30] = {
  { // 0: 0
    B00000000,
    B00011000,
    B00100100,
    B00100100,
    B00100100,
    B00100100,
    B00100100,
    B00011000
  }, { // 1: 1
    B00000000,
    B00001000,
    B00011000,
    B00001000,
    B00001000,
    B00001000,
    B00001000,
    B00011100
  }, { // 2: 2
    B00000000,
    B00011000,
    B00100100,
    B00000100,
    B00001000,
    B00010000,
    B00100000,
    B00111100
  }, { // 3: 3
    B00000000,
    B00011000,
    B00100100,
    B00000100,
    B00001000,
    B00000100,
    B00100100,
    B00011000
  }, { // 4: 4
    B00000000,
    B00001100,
    B00010100,
    B00100100,
    B00111100,
    B00000100,
    B00000100,
    B00000100
  }, { // 5: 5
    B00000000,
    B00111100,
    B00100000,
    B00111000,
    B00000100,
    B00000100,
    B00100100,
    B00011000
  }, { // 6: 6
    B00000000,
    B00011000,
    B00100000,
    B00111000,
    B00100100,
    B00100100,
    B00100100,
    B00011000
  }, { // 7: 7
    B00000000,
    B00111100,
    B00000100,
    B00000100,
    B00001000,
    B00010000,
    B00100000,
    B00100000
  }, { // 8: 8
    B00000000,
    B00011000,
    B00100100,
    B00100100,
    B00011000,
    B00100100,
    B00100100,
    B00011000
  }, { // 9: 9
    B00000000,
    B00011000,
    B00100100,
    B00100100,
    B00100100,
    B00011100,
    B00000100,
    B00011000
  }, { // 10: 10
    B00000000,
    B01000110,
    B11001001,
    B01001001,
    B01001001,
    B01001001,
    B01001001,
    B11100110
  }, { // 11: 11
    B00000000,
    B01000010,
    B11000110,
    B01000010,
    B01000010,
    B01000010,
    B01000010,
    B11100111
  }, { // 12: 12
    B00000000,
    B01000110,
    B11001001,
    B01000001,
    B01000010,
    B01000100,
    B01001000,
    B11101111
  }, { // 13: 13
    B00000000,
    B01000110,
    B11001001,
    B01000001,
    B01000010,
    B01000001,
    B01001001,
    B11100110
  }, { // 14: 14
    B00000000,
    B01000011,
    B11000101,
    B01001001,
    B01001111,
    B01000001,
    B01000001,
    B11100001
  }, { // 15: 15
    B00000000,
    B01001111,
    B11001000,
    B01001110,
    B01000001,
    B01000001,
    B01001001,
    B11100110
  }, { // 16: 16
    B00000000,
    B01000110,
    B11001000,
    B01001110,
    B01001001,
    B01001001,
    B01001001,
    B11100110
  }, { // 17: 17
    B00000000,
    B01001111,
    B11000001,
    B01000001,
    B01000010,
    B01000100,
    B01001000,
    B11101000
  }, { // 18: 18
    B00000000,
    B01000110,
    B11001001,
    B01001001,
    B01000110,
    B01001001,
    B01001001,
    B11100110
  }, { // 19: 19
    B00000000,
    B01000110,
    B11001001,
    B01001001,
    B01001001,
    B01000111,
    B01000001,
    B11100110
  }, { // 20: square
    B00000000,
    B00000000,
    B00111100,
    B00111100,
    B00111100,
    B00111100,
    B00000000,
    B00000000
  }, { // 21: X
    B11000011,
    B11100111,
    B01111110,
    B00111100,
    B00111100,
    B01111110,
    B11100111,
    B11000011
  }, { // 22: !
    B00000000,
    B00011000,
    B00011000,
    B00011000,
    B00000000,
    B00011000,
    B00011000,
    B00000000
  }, { // 23: <
    B00000000,
    B00000000,
    B00001000,
    B00010000,
    B00100000,
    B00010000,
    B00001000,
    B00000000
  }, { // 24: >
    B00000000,
    B00000000,
    B00010000,
    B00001000,
    B00000100,
    B00001000,
    B00010000,
    B00000000
  }, { // 25: N
    B00000000,
    B00100100,
    B00110100,
    B00110100,
    B00101100,
    B00101100,
    B00100100,
    B00000000
  }, { // 26: R1
    B00000000,
    B11000010,
    B10100110,
    B10100010,
    B11000010,
    B10100010,
    B10100010,
    B10100111
  }, { // 27: R2
    B00000000,
    B11000110,
    B10101001,
    B10100001,
    B11000010,
    B10100100,
    B10101000,
    B10101111
  }, { // 28: R3
    B00000000,
    B11000110,
    B10101001,
    B10100001,
    B11000010,
    B10100001,
    B10101001,
    B10100110
  }
};

LedController<Segments,1> lc = LedController<Segments,1>();

void setup() {
  // put your setup code here, to run once:
  lc.init(DIN, CLK, CS);
  lc.clearMatrix();
}
int i;

void loop() {
  if(i > 28) i = 0;
  lc.displayOnSegment(0, 0, digits[i]);
  i++;
  // lc.displayOnSegment(0, 0, digits[28]);

  delay(1000);
}
